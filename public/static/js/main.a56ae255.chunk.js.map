{"version":3,"sources":["utils/data.js","utils/api.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/CardDeletePopup.js","components/App.js","index.js","images/mesto-logo.svg"],"names":["regExp","url","name","options","baseUrl","headers","authorization","api","removeCard","cardId","fetch","_options","method","then","res","ok","json","Promise","reject","status","changeLikeCardStatus","isLiked","this","data","body","JSON","stringify","about","avatar","link","Header","className","src","Logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","userData","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","onClick","type","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","width","height","viewBox","fill","xmlns","d","map","item","key","Footer","PopupWithForm","title","isOpen","onClose","onSubmit","children","history","noValidate","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","validationErrors","setValidationErrors","handleNameChange","evt","value","target","errors","test","handleDescriptionChange","useEffect","preventDefault","placeholder","onChange","onFocus","autoComplete","id","minLength","maxLength","required","pattern","disabled","EditAvatarPopup","onUpdateAvatar","useRef","handleChange","current","ref","AddPlacePopup","setLink","handleCardName","handleCardLink","ImagePopup","selectedCardLink","selectedCardName","CardDeletePopup","onConfirm","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isCardDeletePopupOpen","setIsCardDeletePopupOpen","setCards","selectedCard","setSelectedCard","deletedCard","setDeletedCard","currentUser","setCurrentUser","setIsLoading","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","handleEscClose","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","Provider","newCard","newCards","c","setUserAvatar","setUserInfo","setCard","filter","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.a56ae255.chunk.js","sourcesContent":["export const regExp = {\n  url: /^(https?|chrome):\\/\\/[^\\s$.?#].[^\\s]*$/gm,\n  name: /^[a-zA-Zа-яёА-ЯЁ ]*$/\n};\n\nconst options = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: '2cf602a9-f630-4a8e-9437-bb139a960cac',\n    'Content-Type': 'application/json'\n  }\n};\n\nexport default options;\n","import options from './data';\n\nclass Api {\n  constructor(options) {\n    this._options = options;\n  }\n\n  getUserInfo() {\n    return fetch(`${this._options.baseUrl}/users/me`, {\n      headers: this._options.headers\n    })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n    });\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._options.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n    });\n  }\n\n  setUserAvatar(data) {\n    return fetch(`${this._options.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n    });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._options.baseUrl}/cards`, {\n      headers: this._options.headers\n    })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n    });\n  }\n\n  setCard(data) {\n    return fetch(`${this._options.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n    });\n  }\n\n  removeCard = (cardId) => {\n    return fetch(`${this._options.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._options.headers\n    })\n    .then((res) => {\n      if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n    });\n  }\n\n  changeLikeCardStatus = (cardId, isLiked) => {\n    if (!isLiked) {\n\n      return fetch(`${this._options.baseUrl}/cards/likes/${cardId}`, {\n        method: 'PUT',\n        headers: this._options.headers\n      })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n      });\n\n    }\n    else {\n\n      return fetch(`${this._options.baseUrl}/cards/likes/${cardId}`, {\n        method: 'DELETE',\n        headers: this._options.headers\n      })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n      }\n      return res.json();\n      });\n\n    }\n  }\n\n}\n\nconst api = new Api(options);\n\nexport default api;\n","import React from 'react';\nimport Logo from '../images/mesto-logo.svg';\n\nfunction Header() {\n  return (\n\n    <header className=\"header\">\n      <img src={Logo} alt=\"Логотип проекта «Место Россия»\" className=\"header__logo\" />\n    </header>\n\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n\n  const userData = useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === userData._id;\n  const cardDeleteButtonClassName = (\n    `trash-button ${isOwn ? 'trash-button_active' : 'trash-button_inactive'}`\n  );\n\n  const isLiked = card.likes.some(i => i._id === userData._id);\n  const cardLikeButtonClassName = (\n    `like-button ${isLiked ? 'like-button_active' : 'like-button_inactive'}`\n  );\n\n  function handleClick() {\n    onCardClick({ link: card.link, name: card.name });\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleRemoveClick() {\n    onCardDelete(card);\n  }\n\n  return (\n\n    <li className=\"cards__element\">\n      <img alt={card.name} className=\"cards__image\" src={card.link} onClick={handleClick} />\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleRemoveClick}></button>\n      <div className=\"cards__row\">\n        <h3 className=\"cards__title\">{card.name}</h3>\n        <div className=\"cards__column\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <span className=\"like-button__amount\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n\n  );\n}\n\nexport default Card;\n","import React, { useContext } from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ cards, onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete }) {\n\n  const userData = useContext(CurrentUserContext);\n\n  return (\n\n    <main className=\"content\">\n\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <img alt=\"Аватар профиля\" src={userData.avatar} className=\"profile__image\" />\n          <button type=\"button\" className=\"profile__edit-avatar\" onClick={onEditAvatar}>\n            <svg className=\"profile__edit-avatar_icon\" width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M26 3.45351L6.76981 22.7932L3.33585 19.2903L22.517 0L26 3.45351ZM0 26L5.10189 24.4706L1.52075 21.0171L0 26Z\" fill=\"white\" />\n            </svg>\n          </button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__row\">\n            <h1 className=\"profile__title\">{userData.name}</h1>\n            <button type=\"button\" className=\"edit-button\" onClick={onEditProfile}>\n              <svg className=\"edit-button__icon\" width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M10 1.328L2.604 8.767 1.283 7.419 8.66 0 10 1.328zM0 10l1.962-.588L.585 8.083 0 10z\" fill=\"#fff\" />\n              </svg>\n            </button>\n          </div>\n          <p className=\"profile__subtitle\">{userData.about}</p>\n        </div>\n        <button type=\"button\" className=\"add-button\" onClick={onAddPlace}>\n          <svg className=\"add-button__icon\" width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M22 9.77778H12.2222V0H9.77778V9.77778H0V12.2222H9.77778V22H12.2222V12.2222H22V9.77778Z\" fill=\"white\" />\n          </svg>\n        </button>\n      </section>\n\n      <ul className=\"cards list\">\n        {cards.map((item) => <Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />)}\n      </ul>\n\n    </main>\n\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm({ title, name, isOpen, onClose, onSubmit, children, history }) {\n\n  return (\n    <section className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <form className={`popup__container popup__container_${name}`} name={name} onSubmit={onSubmit} noValidate>\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <h3 className={`popup__title popup__title_${name}`}>{title}</h3>\n        {children}\n      </form>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { regExp } from '../utils/data';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [validationErrors, setValidationErrors] = useState(\n    {\n      name: '',\n      about: ''\n    }\n  );\n\n  const userData = useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(userData.name);\n    setDescription(userData.about);\n    setValidationErrors(\n      {\n        name: '',\n        about: ''\n      }\n    );\n  }, [userData, isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  function handleNameChange(evt) {\n    const { value } = evt.target;\n    let errors = validationErrors;\n\n    setName(value);\n\n    if (value.length < 2) {\n      errors.name = `Текст должен быть не короче 2 симв. Длина текста сейчас: ${value.length} симв.`;\n    }\n    else if (!regExp.name.test(value)) {\n      errors.name = 'Текст не должен содержать цифры и символы.';\n    }\n    else {\n      errors.name = '';\n    }\n\n    setValidationErrors(errors);\n  }\n\n  function handleDescriptionChange(evt) {\n    const { value } = evt.target;\n    let errors = validationErrors;\n\n    setDescription(value);\n\n    if (value.length < 2) {\n      errors.about = `Текст должен быть не короче 2 симв. Длина текста сейчас: ${value.length} симв.`;\n    }\n    else {\n      errors.about = '';\n    }\n\n    setValidationErrors(errors);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__set\">\n        <label className=\"popup__field\">\n          <input type=\"text\" placeholder=\"Введите имя\" value={name || ''} onChange={handleNameChange} onFocus={handleNameChange} autoComplete=\"off\" className=\"popup__input popup__input_text_name\" id=\"name-input\" name=\"nameInput\" minLength=\"2\" maxLength=\"40\" required pattern=\"[A-Za-zА-ЯЁа-яё -]{1,}\" />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"name-input-error\">{validationErrors.name}</span>\n        </label>\n        <label className=\"popup__field\">\n          <input type=\"text\" placeholder=\"Введите описание\" value={description || ''} onChange={handleDescriptionChange} onFocus={handleDescriptionChange} autoComplete=\"off\" className=\"popup__input popup__input_text_description\" id=\"description-input\" name=\"descriptionInput\" minLength=\"2\" maxLength=\"200\" required />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"description-input-error\">{validationErrors.about}</span>\n        </label>\n        <button\n          type=\"submit\"\n          className={`popup__save-button ${(validationErrors.name || validationErrors.about) || (name === userData.name && description === userData.about) ? 'popup__save-button_inactive' : ''}`}\n          disabled={isLoading || (validationErrors.name || validationErrors.about) || (name === userData.name && description === userData.about)}\n        >\n          {isLoading ? 'Сохранение...' : 'Сохранить'}\n        </button>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useRef, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { regExp } from '../utils/data';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n\n  const avatar = useRef('');\n  const [validationErrors, setValidationErrors] = useState('');\n\n  React.useEffect(() => {\n    avatar.current.value = '';\n    setValidationErrors('');\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatar.current.value\n    });\n  }\n\n  function handleChange(evt) {\n    const { value } = evt.target;\n    let errors = validationErrors;\n\n    if (!regExp.url.test(value)) {\n      errors = 'Введите URL.';\n    }\n    else {\n      errors = '';\n    }\n\n    setValidationErrors(errors);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__set\">\n        <label className=\"popup__field\">\n          <input ref={avatar} onChange={handleChange} onFocus={handleChange} type=\"url\" placeholder=\"Ссылка на картинку\" autoComplete=\"off\" className=\"popup__input popup__input_text_link\" id=\"link-avatar-input\" name=\"avatarInput\" required />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"link-avatar-input-error\">{validationErrors}</span>\n        </label>\n        <button\n          type=\"submit\"\n          className={`popup__save-button ${(validationErrors || !(avatar.current.value)) ? 'popup__save-button_inactive' : ''}`}\n          disabled={isLoading || validationErrors || !(avatar.current.value)}\n        >\n          {isLoading ? 'Сохранение...' : 'Сохранить'}\n        </button>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { regExp } from '../utils/data';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\n\n  const [link, setLink] = useState('');\n  const [name, setName] = useState('');\n  const [validationErrors, setValidationErrors] = useState(\n    {\n      name: '',\n      link: ''\n    }\n  );\n\n  React.useEffect(() => {\n    setLink('');\n    setName('');\n    setValidationErrors(\n      {\n        name: '',\n        link: ''\n      }\n    );\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name,\n      link\n    });\n  }\n\n  function handleCardName(evt) {\n    const { value } = evt.target;\n    let errors = validationErrors;\n\n    setName(value);\n\n    if (value.length < 1) {\n      errors.name = `Текст должен быть не короче 1 симв. Длина текста сейчас: ${value.length} симв.`;\n    }\n    else {\n      errors.name = '';\n    }\n\n    setValidationErrors(errors);\n  }\n\n  function handleCardLink(evt) {\n    const { value } = evt.target;\n    let errors = validationErrors;\n\n    setLink(value);\n\n    if (!regExp.url.test(value)) {\n      errors.link = 'Введите URL.';\n    }\n    else {\n      errors.link = '';\n    }\n\n    setValidationErrors(errors);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__set\">\n        <label className=\"popup__field\">\n          <input type=\"text\" placeholder=\"Название\" value={name || ''} onChange={handleCardName} onFocus={handleCardName} autoComplete=\"off\" className=\"popup__input popup__input_text_place\" id=\"place-input\" name=\"placeInput\" minLength=\"1\" maxLength=\"30\" required />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"place-input-error\">{validationErrors.name}</span>\n        </label>\n        <label className=\"popup__field\">\n          <input type=\"url\" placeholder=\"Ссылка на картинку\" value={link || ''} onChange={handleCardLink} onFocus={handleCardLink} autoComplete=\"off\" className=\"popup__input popup__input_text_link\" id=\"link-input\" name=\"linkInput\" required />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"link-input-error\">{validationErrors.link}</span>\n        </label>\n        <button\n          type=\"submit\"\n          className={`popup__save-button ${(validationErrors.name || validationErrors.link) || !(name && link) ? 'popup__save-button_inactive' : ''}`}\n          disabled={isLoading || (validationErrors.name || validationErrors.link) || !(name && link)}\n        >\n          {isLoading ? 'Создание...' : 'Создать'}\n        </button>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ImagePopup({ isOpen, selectedCardLink, selectedCardName, onClose }) {\n  return (\n\n    <section className={`popup ${isOpen && \"popup_opened\"}`}>\n      <figure className=\"popup__image-container\">\n        <img alt={ selectedCardName } src={ selectedCardLink } className=\"popup__image\" />\n        <figcaption className=\"popup__caption\">{ selectedCardName }</figcaption>\n        <button type=\"button\" className=\"popup__close-button\" onClick={ onClose }></button>\n      </figure>\n    </section>\n\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction CardDeletePopup({ isOpen, onClose, onConfirm, isLoading }) {\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onConfirm();\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"trash\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <button type=\"submit\" className=\"popup__save-button\" disabled={isLoading}>{isLoading ? 'Удаление...' : 'Да'}</button>\n    </PopupWithForm>\n  );\n}\n\nexport default CardDeletePopup;\n","import React from 'react';\nimport api from '../utils/api';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport CardDeletePopup from './CardDeletePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isCardDeletePopupOpen, setIsCardDeletePopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({\n    link: '',\n    name: ''\n  });\n  const [deletedCard, setDeletedCard] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n\n    function handleEscClose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n\n    function closeByOverlay(evt) {\n      if (evt.target.classList.contains('popup_opened')) {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('click', closeByOverlay);\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n      document.removeEventListener('click', closeByOverlay);\n    }\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardDeleteClick() {\n    setIsCardDeletePopupOpen(true);\n  }\n\n  function handleCardClick(selectedCard) {\n    setIsImagePopupOpen(true);\n    setSelectedCard({\n      link: selectedCard.link,\n      name: selectedCard.name\n    });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsCardDeletePopupOpen(false);\n    setIsLoading(false);\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true);\n    api.setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    setIsLoading(true);\n    api.setUserAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setIsLoading(true);\n    api.setCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleDeletedCard(card) {\n    setDeletedCard(card);\n    handleCardDeleteClick();\n  }\n\n  function handleDelete() {\n    setIsLoading(true);\n    api.removeCard(deletedCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deletedCard._id);\n        setCards(newCards);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <div className=\"page\">\n\n        <Header />\n\n        <Main\n          cards={cards}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeletedCard}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          selectedCardLink={selectedCard.link}\n          selectedCardName={selectedCard.name}\n          onClose={closeAllPopups}\n        />\n\n        <CardDeletePopup\n          isOpen={isCardDeletePopupOpen}\n          onClose={closeAllPopups}\n          onConfirm={handleDelete}\n          isLoading={isLoading}\n        />\n\n        <Footer />\n\n      </div>\n\n    </CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/mesto-logo.c6f11019.svg\";"],"sourceRoot":""}